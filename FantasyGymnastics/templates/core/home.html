{% extends 'base.html' %}
{% load custom_tags %}
{% load static %}
{% block title %}Home{% endblock title %}
{% block content %}

<div class="Container">
    <div class="row">
        {% if user.is_authenticated %}

        <div class="col-md-1">
            <p>{{user.username}}</p>
        </div>

        <div class="col-md-1">
            <p>Name: {{user.first_name}} {{user.last_name}}</p>
        </div>

        <div class="col-md-1">
            <p>Profile picture: <img src="{{user.profile.picture_url}}" /></p>
        </div>
    </div>
    <div class="row">
        <div class="col-">
            <td><a href="{% url 'logout' %}" class="btn btn-outline-primary">Logout</a></td>
            {% else %}
            <td><a href="{% url 'login' %}" class="btn btn-outline-primary">Login</a></td>
            {% endif %}
        </div>
    </div>
</div>




<h1>Leagues</h1>


Search for a league to join
<form action="{% url 'league_search_results' %}" method="get">
    <input name="query" type="text" placeholder="League search">
    <button type="submit">Search</button>
</form>

<a href="{% url 'create_league' %}">Create League</a></td>

<h1>New Gymnast</h1>
    <form method="post" novalidate>
        {% csrf_token %}
        {% include 'includes/forms.html' %}
        <button type="submit" class="btn btn-success mb-4">Submit</button>
    </form>
<h2>Gymansts</h2>

<table class="mb-4">
    <tbody>
      {% for gymnast in gymnasts %}
      <tr>
        <td>{{ gymnast.name }}</td>
        <td>{{ gymnast.team }}</td>
        <td>{{ gymnast.year }}</td>
        <td>{{ gymnast.id }}</td>
        
        <td><a href="{% url 'delete_gymnast' gymnast.pk %}">X</a></td></td>

      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}